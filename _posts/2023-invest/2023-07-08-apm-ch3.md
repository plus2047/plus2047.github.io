---
layout: mypost
title: Active Portfolio Management - Chapter 03
categories: [invest]
---
# 第二章 风险

本章要点:

- 风险是收益率的标准差
- 风险不具有可加性。
- 许多机构投资者关注主动风险和残差风险甚于总风险。
- 主动风险主要依赖于主动头寸的规模，而不是基准头寸的规模。
- 风险造成的成本与方差成正比。
- 风险模型识别重要的风险来源，并把风险分解为多个组成部分。

## 风险定义

本书中使用的**风险**定义为**收益率的标准差** $\sigma=\operatorname{std}(r)$

  - 对于标准正态分布，收益率落在 $r\pm\sigma$ 内的概率约为 $2/3$
  - 现实的收益率概率分布比正态分布更平，极端事件发生概率要大一些

风险不具有可加性。对于相关系数为 $\beta$ 的两个股票，若一个投资组合由这两个股票各 $50\%$ 组成，则其风险为，

$$\sigma_P=\sqrt{(0.5 \sigma_1)^2+(0.5\sigma_2)^2+2(0.5\sigma_1)(0.5\sigma_2)\beta_{12}}<0.5\sigma_1+0.5\sigma_2$$

- 当两只股票完全相关时，风险叠加
- 当 $\sigma_1=\sigma_2$ 并且 $\beta=0$，$\sigma_P=\sigma/\sqrt{2}$

大部分资产在两个不重叠的时间区间上几乎不相关，因此风险的平方与时间成正比。所以，风险既不能沿时间叠加，也不能沿截面叠加（也即不能在各个资产之间叠加），但方差可以沿时间叠加。

【主动风险】

**主动风险**定义为主动收益（Active Return, $r_{PA}$）的标准差，有时也称主动风险为**跟踪误差**。

$$\psi_P=\operatorname{std}(r_{PA})=\operatorname{std}(r_A-r_B)$$

主动风险取决于主动暴露的绝对值（对某个股票持仓相对于基准的偏移程度）与股票风险。对某个大盘股的主动暴露并不比对某个小盘股的主动暴露风险更小。

【残差风险】

**残差风险**定义为收益率中与基准收益率正交的部分（残差收益率）的风险，

$$\omega_P=\sqrt{\sigma_P^2-\beta_P^2\sigma_B^2}$$

【风险成本】

本书中**风险成本**定义为风险厌恶系数乘以百分制表示的标准差的平方（简称方差）。如，当风险厌恶系数位 $0.1$，风险（标准差）为 $4%$ 时，风险成本为 $0.1 * 4^2\% = 1.6\%$. 风险成本会视为预期收益率折损从预期收益率中减去。

## 基本风险模型

根据以上风险的定义，如果已知一只基金的构成以及其各组分的预期收益率、两两之间的相关系数，就可以计算基金的预期风险。问题是，相关系数矩阵（协方差矩阵）具有 $N^2$ 个参数，在 $N$ 较大时参数量很大。

为了估计组合的风险，有三种基本的风险模型，

1. 将任意股票的收益率拆解为市场收益率和残差收益率（类似于 CAPM），并假设残差收益率两两不相关。该方案的问题是，残差收益率实际上是相关的。
2. 假设任意两只股票之间的相关系数相同，该方法明显过于简化。
3. 使用历史数据估计协方差矩阵中的每一项，该方法的问题是需要大量的数据，并且历史数据并不总能反映未来

这三种方法因此不够实用。

## 结构化风险模型

结构化多因子风险模型基于以下想法：股票的收益率可以被一组共同因子和一个仅与该股票有关的特异因子解释，也即对收益率进行线性分解，

$$r_n(t)=X_{n,k}(t)b_k(t)+u_n(t)$$

- $r_n(t)$ 资产 $n$ 从 $t$ 到 $t+1$ 时刻的超额收益率
- $b_k(t)$ 因子 $k$ 从时刻 $t$ 到时刻 $t+1$ 的因子收益率
- $X_{n,k}(t)$ 资产 $n$ 对因子 $k$ 的暴露度 exposure, 也称为因子载荷 loading, 暴露度通常是标准化的，因此全部股票的平均暴露度为 0，并且暴露度的横截面标准差等于 1
- $u_n(t)$ 股票 $n$ 的特异收益率 (specific return), 即其总收益率中不能被共同因子解释的部分

假设特异收益率与因子收益率不相关，不同股票的特异收益率之间也互不相关。则组合的结构风险为，

$$V_{n,m}=\sum_{k_1,k_2} X_{n,k_1} F_{k_1,k_2}X_{m,k_2}+\Delta_{}n,m$$

- $V_{n,m}$ 资产 $n$ 与 $m$ 的协方差，$n=m$ 时就是方差
- $F_{k_1,k_2}$ 因子 $k_1, k_2$ 的收益率协方差
- $\Delta_{n,m}$ 资产 $n$ 与 $m$ 的特异协方差，按假设，$n \neq m$ 时 $\Delta_{n,m}=0$ 而当 $n=m$ 时 $\Delta_{n,m}$ 就是特意收益率的方差

该模型提供了以下优势：

无论有多少种股票，只需要分析有限的几种因子之间的的关系，以及股票与因子之间的关系，就能建立风险模型，而无需两两分析股票之间的关系

结构化风险模型只要求 $X_{n,k}$ 是在 $k$ 时刻已知的，而因子收益率、特意收益率都是在 $t+1$ 时刻才知道的。所以结构化风险模型其实并不能预测精确的风险数值，但却能分析资产组合对每个风险因子的暴露度，以此控制风险。

结构化风险模型相当于使用历史的暴露率替代未来的暴露率，但并不预测因子本身的收益，因此，相对于使用历史风险预测未来风险，该模型更为精确。

## 因子挑选

结构化风险模型的「艺术」在于因子挑选。可以把因子分为三类，

**对外部变化的响应**，也称为宏观因子，如债券市场收益率、通胀异动、油价变动、汇率变动、工业产量变动，等等。响应类因子的解释力可能非常强，但他们有三个严重缺陷:

- 必须通过历史数据回归分析估计暴露度，可能导致严重的估计误差
- 即使能够精确捕捉过去的情况，过去也不一定能反映现在
- 宏观数据常常由政府采集而非市场直接观察，质量不佳，容易更新不及时、不精确等

**横截面比较类因子**，比较股票的各种属性，分为基本面类和市场类。基本面类如分红率、盈利率。市场类如波动率、收益率、期权的隐含波动率、换手率。经验表明这类因子非常有效。

**统计类因子**，用其他因子通过统计手段（如主成分分析、最大似然分析、预期最大分析等等）组合出的因子。统计因子不够直观且存在缺陷，本书避免使用。

本书倾向于实用满足以下准则的因子：**有区分能力，直观，有意义。**

本书中使用的典型因子，

- **行业因子**，暴露率通常是 $0, 1$ 是否属于一个行业；有些大公司也会同时属于多个行业，则使用多个相加等于 1 的暴露率描述
- **风险指数因子**，
  - 波动率
  - 动量
  - 规模
  - 流动性
  - 成长性
  - 价值，包括市盈率，分红率，市现率（市值现金比）市净率，市销率等等
  - 盈利波动率
  - 财务杠杆，按债务股本比率和对利率的风险暴露度区分股票

每一个风险指数都包含若干个具体度量，我们称之为描述变量 (descriptor)。例如，波动率度量可以由近期日收益率波动率、期权的隐含波动率、近期价格波幅和贝塔这 4 个描述变量构成。

## 风险分解

风险模型的主要用途有三种，分别涉及现在、未来与过去。本章主要关注如何分析当前风险。

风险模型帮助我们对当前组合进行风险分解。分解风险的方式包括，

- 将收益率划分为市场部分和残差部分
- 考察组合相对于某个业绩基准的风险，即分解出主动风险
- 将组合风险按照多因子模型分解为模型风险和特异风险

重点考察第三种方法。风险分析不仅告诉主动投资经理他们承担了多少主动风险，还告诉他们为什么以及如何改变主动风险。风险分析将主动投资经理承担的风险划分为固有的、意向的和意外的风险。

- **固有风险** 业绩基准的风险，是无法避免的
- **意向风险** 主动对高期望的因子暴露的风险。预期收益率最高的股票应该对该组合具有最高的边际风险贡献率，这是符合意向的
- **意外风险** 投资经理不经意间暴露于某些具有显著主动风险边际贡献的因子，比如通过分红率构建的股票意外的暴露于某个高分红的行业；意外风险常常在一系列的调整中累积产生

## 问题

**1.** 如果通用电气的年化风险为 27.4%，那么它的月度收益率的波动率是多少?

$$27.4\% / \sqrt{12} = 7.9\% $$

**2.** 股票 A 的风险是 25%，股票 B 的风险是 50%，并且两只股票之间的相关系数是 50%。那么怎样一个由股票 A 和股票 B 构成的全额投资组合会具有最小的总风险 (提示：如果你不能通过数学计算确定答案，可以尝试借助 Excel 之类的工具图形化地解决该问题)?

$$\sigma^2=0.25^2a^2+0.5^2(1-a)^2+2a(1-a)\cdot0.25\cdot0.5\cdot0.5$$
$$a=1,\quad \sigma=0.25$$

**3.** 一个由 5 只股票构成的等权重投资组合，其中每只股票的波动率都是 35%，并且两两之间的相关系数都是 50%，那么该组合的风险是多少?如果该组合扩展到 20 只股票或者 100 只股票上，它的风险会降低多少?

正文中公式 3-4, $\sigma_P=\sigma\sqrt{\frac{1+\rho(N-1)}{N}}$

$$\rho_P^{N=5}=27.11\%$$
$$\rho_P^{N=20}=25.36\%$$
$$\rho_P^{N=100}=24.87\%$$

**4.** 结构化风险模型怎样帮助我们估计资产的贝塔? 这样产生的贝塔估计与用 60 个月的数据回归产生的贝塔估计有何不同?

结构化风险模型将组成资产的股票的风险和收益分解到因子上，然后将基准同样分解到因子上，从而可以计算基准与资产组合的相关系数计算 $\beta$. 

按照本章的论述，首先这样的计算方法要更容易一些，因为只需要处理有限的因子，而非股票两两之间的组合。然后，该方法要比历史方法更为精确。