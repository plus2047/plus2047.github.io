---
layout: mypost
title: æ¯å‘¨ä¸€é¢˜ 351 æˆ‘å›žæ¥äº†ï¼
categories: [leetcode]
---

ðŸ¦ é¸½å­å›žæ¥äº†ï¼

æœ¬å…¬ä¼—å·åœæ›´ä¸¤æœˆæœŸé—´ï¼Œæœ‰ä¸¤ä½æœ‹å‹é—®æˆ‘ä¸ºå•¥ä¸æ›´äº†ï¼Œæˆ‘éžå¸¸æ„ŸåŠ¨ï¼ŒåŽŸæ¥æˆ‘æ˜¯æœ‰è¯»è€…çš„ï¼Œæ¯ç¯‡æ–‡ç« ä¸ªä½æ•°ç‚¹å‡»ä¸æ˜¯è¯¯ç‚¹ï¼

åœæ›´ä¸å®Œå…¨æ˜¯å› ä¸ºæˆ‘è·³æ§½äº† ðŸ˜‚ è€Œæ˜¯å› ä¸ºï¼Œæˆ‘è§‰å¾—æµäºŽå½¢å¼æ²¡æœ‰å¤ªå¤§çš„æ„æ€ã€‚æ›´æ–°å…¬ä¼—å·éœ€è¦è€—æ—¶ä¸€ä¸ªå°æ—¶å·¦å³ï¼Œç”¨è¿™ä¸€ä¸ªå°æ—¶æ—¶é—´å¤šåšä¸¤é“é¢˜å¯¹è‡ªå·±å¸®åŠ©æ›´å¤§ã€‚è€Œä¸”æŽ¨å·±åŠäººï¼Œæˆ‘è‡ªå·±è™½ç„¶æœ‰å…´è¶£åšé¢˜ï¼Œä½†æ²¡æœ‰å…´è¶£çœ‹é¢˜è§£ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šé¢˜è§£å¯¹åˆ«äººæœ‰æ²¡æœ‰å¸®åŠ©ã€‚

é‡å¯ä¹‹åŽï¼Œæˆ‘åšäº†ä¸€ç‚¹è°ƒæ•´ï¼Œæ¯å‘¨å‘¨èµ›å››é¢˜é€€åŒ–ä¸ºæ¯å‘¨ä¸€é¢˜ï¼Œæˆ‘ä¼šä»Žæ¯å‘¨å‘¨èµ›ä¸­é€‰æ‹©ä¸€é“æ¯”è¾ƒæœ‰æ„æ€çš„é¢˜ç›®è®²è§£ï¼ˆä¸ä¸€å®šæ˜¯æœ€åŽä¸€é¢˜ï¼‰ï¼Œå†…å®¹æ›´ç²¾ç‚¼ï¼Œå¸Œæœ›åœ¨å‡ ä¹Žæ²¡æœ‰è´Ÿæ‹…çš„å‰æä¸‹ï¼Œæ¯å‘¨æä¾›ä¸€ç‚¹ç‚¹è„‘åŠ›é”»ç‚¼ã€‚

æœ¬å‘¨å‘¨èµ›æœ€æœ‰æ„æ€çš„é¢˜ç›®æ„Ÿè§‰å¹¶ä¸æ˜¯ç¬¬å››é¢˜ï¼Œè€Œæ˜¯ç¬¬äºŒé¢˜ã€‚

![é¢˜å¹²](../posts/../../posts/2023-leetcode/lc-2749.png)

æœ¬é¢˜ä¹çœ‹ä¸ŠåŽ»å°±æ²¡å•¥å¤´ç»ªã€‚ä»”ç»†è€ƒè™‘ä¸€ä¸‹ï¼Œè‹¥ `k` æ­¥æ“ä½œä¹‹åŽ `num1` ç­‰äºŽ 0ï¼Œåˆ™æœ‰ï¼ˆå…¬ä¼—å·æŽ’ç‰ˆæ•°å­¦å…¬å¼ä¸æ–¹ä¾¿ï¼Œå¤§å®¶å‡‘åˆç€çœ‹ï¼‰ï¼Œ

`num1 = 2^(i1) + 2^(i2) ... + 2^(ik) + k * num2`

`num1 - k * num2 = 2^(i1) + 2^(i2) ... + 2^(ik)`

è€ƒè™‘ç¬¬äºŒä¸ªç­‰å¼ï¼Œåˆ™é—®é¢˜å¯ä»¥è½¬æ¢ä¸ºï¼Œå¯¹äºŽæ­£æ•´æ•° `num1 - k * num2` èƒ½å¦ç”¨æ°å¥½ `k` ä¸ª 2 çš„å¹‚æ¬¡ä¹‹å’Œï¼ˆæˆ–è€…ç§°ä¸ºäºŒè¿›åˆ¶æ•°ä½ï¼‰è¡¨ç¤ºï¼Ÿæ³¨æ„ï¼Œè¿™ `k` ä¸ªäºŒè¿›åˆ¶æ•°ä½æ˜¯å¯ä»¥é‡å¤é€‰å–çš„ã€‚

æˆ‘ä»¬è€ƒè™‘ï¼Œå¯¹äºŽä»»æ„ä¸€ä¸ªæ•´æ•° `x` æ‹†åˆ†æˆäºŒè¿›åˆ¶æ•°ä½ä¹‹å’Œï¼Œå¯èƒ½çš„æ‹†åˆ†æ–¹æ³•çš„åŠ æ•°ä¸ªæ•°å–å€¼èŒƒå›´ã€‚æ˜¾ç„¶ï¼ŒåŠ æ•°æœ€å°‘çš„æ‹†åˆ†æ–¹æ³•å°±æ˜¯ `x` çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ `1` çš„ä¸ªæ•°ï¼Œå¯¹åº”çš„æ‹†åˆ†æ–¹æ³•å°±æ˜¯ `x` çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„å„ä¸ªäºŒè¿›åˆ¶æ•°ä½ï¼ˆè®°ä¸º `popcount(x)`. å†æƒ³ä¸€ä¸‹ï¼ŒåŠ æ•°æœ€å¤šçš„æ‹†åˆ†æ–¹æ³•å°±æ˜¯å…¨éƒ¨æ‹†æˆ 1ï¼ŒåŠ æ•°ä¸ªæ•°ç­‰äºŽ `x` çš„æ•°å€¼ã€‚

è¿™é“é¢˜ä½œä¸ºç¬¬äºŒé¢˜æ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œå…¶å®žæƒ³åˆ°è¿™é‡Œå°±å¯ä»¥ã€Œå¤§èƒ†çŒœæƒ³ã€ç»™å‡ºé¢˜è§£äº†ã€‚ä½†æˆ‘ä»¬ä¸¥å¯†ä¸€ç‚¹ï¼Œè¡¥å……ä¸€äº›è¯æ˜Žã€‚

ä¸€ä¸ªç‚¹åœ¨äºŽï¼Œå…¶ä»–æ‹†åˆ†æ–¹æ³•çš„åŠ æ•°ä¸ªæ•°å–å€¼èŒƒå›´ï¼Œæ˜¯ä¸æ˜¯åœ¨ `[popcount(x), x]` èŒƒå›´å†…éƒ½æ˜¯å¯è¡Œçš„ã€‚æˆ‘ä»¬è€ƒè™‘æœ€ç®€å•çš„æƒ…å†µï¼Œ`x` äºŒè¿›åˆ¶è¡¨ç¤ºåªæœ‰ä¸€ä¸ª 1 æ¯”å¦‚ `8 = 0b1000`ï¼Œå¯ä»¥æ‹†åˆ†æˆ `0b1000 = 0b0100 + 0b0100` ä¸¤ä¸ªåŠ æ•°ä¹‹å’Œï¼Œå¯¹äºŽ `0b0100` å¯ä»¥é€’æŽ¨çš„æ‹†æˆä¸¤æ•°ä¹‹å’Œã€‚äºŽæ˜¯å¯ä»¥é€’æŽ¨çš„è¯æ˜Žï¼ˆä¹Ÿå¯ä»¥ç”¨æ•°å­¦å½’çº³æ³•ï¼‰ï¼Œå¯¹äºŽ `[popcount(x), x]` èŒƒå›´å†…æ‹†åˆ†æ–¹æ³•éƒ½ç¡®å®žå­˜åœ¨ã€‚

å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç»™å‡ºè¯¥é¢˜ç›®çš„ç©·ä¸¾æ³•é¢˜è§£ï¼Œä»Žå°åˆ°å¤§å°è¯• $k$ çš„å–å€¼ï¼Œ

```py
class Solution:
    def makeTheIntegerZero(self, num1: int, num2: int) -> int:
        k = 0
        while num1 > num2 * k or num2 < 0:
            k += 1
            x = num1 - num2 * k
            if bin(x).count('1') <= k and k <= x:
                return k
        return -1
```

åœ¨æ¯”èµ›ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥äº†ï¼Œè¯•ç€æäº¤ä¸€ä¸‹ï¼Œè¿‡äº†å°±å¤Ÿäº†ã€‚ä½†ä¸¥æ ¼æ¥è¯´ï¼Œè¿˜å¾—è¯æ˜Žä¸€ä¸‹è¿™ä¸ªç©·ä¸¾ä¸ä¼šè¶…æ—¶ï¼Œä¹Ÿå³ `k` æ˜¯ä¸ªæ¯”è¾ƒå°çš„æ•°å­—ã€‚

`num2 >= 0` æ—¶ï¼Œæ€»æ˜¯æœ‰ `popcount(x) < 64` æ‰€ä»¥ 64 æ­¥ä¹‹å†…å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚

`num2 < 0` æ—¶ï¼Œ`x = - num2 * k + num1 > k` æ’æˆç«‹ï¼Œå½“ `k > 64` æ—¶ `popcount(x) < k` ä¹Ÿæ’æˆç«‹ï¼Œæ‰€ä»¥ 64 æ­¥ä¹‹å†…ä¹Ÿæ€»å¯ä»¥è§£å†³é—®é¢˜ã€‚

ç»¼ä¸Šï¼Œè¿™ä¸ªæžšä¸¾æ³•ä¸ä¼šè¶…æ—¶ã€‚

ä¸‹é¢æ˜¯ C++ ç‰ˆæœ¬ã€‚å’±ä»¬å¯ä»¥å·ä¸ªæ‡’ï¼ŒC++ 20 æ ‡å‡†ä¸­æœ‰ä¸€ä¸ª `popcount` å‡½æ•°ï¼Œå¯ä»¥è®¡æ•°ä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•°ï¼Œæ›´ä½Žç‰ˆæœ¬çš„ C++ ä¸­ï¼ŒGCC å’Œ Clang ç¼–è¯‘å™¨éƒ½æä¾›äº† `__builtin_popcount` å‡½æ•°ä»¥åŠ lang lang ç‰ˆæœ¬ `__builtin_popcountll`.

```cpp
class Solution {
public:
    int makeTheIntegerZero(int num1, int num2) {
        for(long long i = 1; num1 >= num2 * i or num2 < 0; i++) {
            long long x = num1 - num2 * i;
            if(__builtin_popcountll(x) <= i and x >= i) {
                return i;
            }
        }
        return -1;
    }
};
```
